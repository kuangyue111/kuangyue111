/*==========================================Copyright(c)=======================================
**                                  Shenzhen Infypower Co., Ltd.
**                                  Power conversion Department
**                                       BMS Product Line
**
**---------------------------------------File Information--------------------------------------
** @File Name    : CurrLimFall.h
** @Founder      : ZSY342
** @Date         : 2019.10.30
** @Function     : 充放电电流限值平滑模块
** @Instructions :
**===========================================================================================*/
#ifndef _CURRLIMFALL_H
#define _CURRLIMFALL_H

/*=============================================================================================
** @Header file definition
**===========================================================================================*/

/*=============================================================================================
** @Macro definition
**===========================================================================================*/
#define	CHG_FIN_CV_CLR_OFFV     50     /*充电末端恒压调节复位电压回差(与恒压起始点电压回差) 1mv*/
#define	DHG_FIN_CV_CLR_OFFV     70     /*放电末端恒压调节复位电压回差(与恒压起始点电压回差) 1mv*/

/*=============================================================================================
** @Data type definition
**===========================================================================================*/

/*=============================================================================================
** @Interface function declaration
**===========================================================================================*/
/*=============================================================================================
** @Name      : void CurrLimFallTask(void)
** @Input     : void
** @Output    : void
** @Function  : 充放电电流限值平滑任务
** @The notes : 100ms
**===========================================================================================*/
void CurrLimFallTask(void);

/*=============================================================================================
** @Name      : void ResetCurrLimFallAPI(void)
** @Input     : void
** @Output    : void
** @Function  : 复位充放电电流平滑限制
** @The notes : 平滑步骤清零
**===========================================================================================*/
void ResetCurrLimFallAPI(void);

/*=============================================================================================
** @Name      : u8 GetFallChgCIndexStepAPI(void)
** @Input     : void
** @Output    : 放电电流限值
** @Function  : 返回平滑降充电电流限值当前进度步骤
** @The notes : 当前降到第几个点
**===========================================================================================*/
u8 GetFallChgCIndexStepAPI(void);

/*=============================================================================================
** @Name      : u8 GetFallDhgCIndexStepAPI(void)
** @Input     : void
** @Output    : 放电电流限值
** @Function  : 返回平滑降放电电流限值当前进度步骤
** @The notes : 当前降到第几个点
**===========================================================================================*/
u8 GetFallDhgCIndexStepAPI(void);

/*=============================================================================================
** @Name      : u16 GetFallChgLimCurr(void)
** @Input     : void
** @Output    : 充电电流限值
** @Function  : 返回平滑计算的充电电流限值
** @The notes :
**===========================================================================================*/
u16 GetFallChgLimCurr(void);

/*=============================================================================================
** @Name      : u16 GetFallDhgLimCurr(void)
** @Input     : void
** @Output    : 放电电流限值
** @Function  : 返回平滑计算的放电电流限值
** @The notes :
**===========================================================================================*/
u16 GetFallDhgLimCurr(void);
                                                                     
#endif
